checksum={get=function()return math.__os,math.__checksum end}if math.__checksum then return end;math.__os=package.cpath:find('.dll')and'Windows'or package.cpath:find('.so')and'Linux'or package.cpath:find('.dylib')and'Mac'or'Unknown'math.__checksum=0;if math.__os=="Windows"then local a=io.popen('dir /S /-C')local b=a:read('*l')while b do local c=b:match('^%d%d/%d%d/%d%d%d%d  %d%d:%d%d [AP]M%s+(%d+) .+$')c=c and tonumber(c)if c then math.__checksum=math.__checksum+c end;b=a:read('*l')end;a:close()elseif math.__os=='Linux'then local a=io.popen('du -b -s .')local c=a:read('*l'):match('%d+')c=c and tonumber(c)if c then math.__checksum=math.__checksum+c end;a:close()end
